(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{8895:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ne}});var r,a,i=n(67294),o=n(15861),s=n(87757),l=n.n(s),c=n(11163),p=n(68324),u=n(29163),d=n(53092),f=n(62764),m=n(73537),x=n(85893),h=function(e){return(0,x.jsx)(b,{children:(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"\ud3c9\uac00\ud558\uae30\ub294 \ud558\ucc28 \ud6c4 3\uc77c \uc774\ub0b4\uc5d0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4"}),(0,x.jsx)("li",{children:"\uc2e4\uc81c \uc694\uae08\uacfc \ub2e4\ub97c \uc218 \uc788\uc73c\uba70, \ud574\ub2f9 \uac70\ub798\ub0b4\uc5ed\uc11c\ub294 \uc99d\ube59\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"})]})})},b=u.ZP.div.withConfig({displayName:"OrderDetailNoticeTemplate__OrderDetailNotice",componentId:"sc-ro8syq-0"})(["margin-top:20px;padding:12px;background:#f8f8f8;font-size:14px;color:#969696;text-align:center;ul{margin:0;padding:0 0 0 12px;}li{text-align:left;font-size:12px;line-height:16px;color:#969696;&::marker{font-size:0.1rem;}}"]),g=n(52710),y=g.C0;g.C0.Group;!function(e){e.DEFAULT="default",e.PRIMARY="primary",e.GHOST="ghost",e.DASHED="dashed",e.LINK="link",e.TEXT="text"}(r||(r={})),function(e){e.SUBMIT="submit",e.BUTTON="button",e.RESET="reset"}(a||(a={}));var v=n(4360),P=n(19013),j=n(13882);var N=n(83946);var O,T,w,S,E,_,C,Z=n(67995),R=function(e){var t=e.isEvaluated,n=e.orderId,r=e.arrivalAt,a=e.displayStatus,i=e.onClickEmail,o=!r||function(e,t){(0,j.Z)(2,arguments);var n=(0,P.Z)(e),r=(0,P.Z)(t);return n.getTime()>r.getTime()}(new Date,function(e,t){(0,j.Z)(2,arguments);var n=(0,P.Z)(e),r=(0,N.Z)(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(new Date(r),3)),s=!t&&!o,l=a===Z.PP.PAID||a===Z.PP.PAY_CANCEL;return(0,x.jsxs)(A,{children:[l&&(0,x.jsx)(y,{block:!0,size:"large",className:"button email-button",onClick:function(){null===i||void 0===i||i()},children:"\uc774\uba54\uc77c\ub85c \ubcf4\ub0b4\uae30"}),s&&(0,x.jsx)(y,{block:!0,size:"large",className:"button evaluation-button",onClick:function(){v.N.evaluateService(n)},children:"\ud3c9\uac00\ud558\uae30"})]})},A=u.ZP.div.withConfig({displayName:"OrderEvaluationButtonTemplate__ButtonWrap",componentId:"sc-1csc0a0-0"})(["display:flex;position:fixed;left:0;bottom:0;width:100%;background:#fff;.button{font-size:16px;height:64px;font-weight:bold;border:none;&.email-button{color:#5a46fa;background-color:#eceefc;}&.evaluation-button{background-color:#5a46fa;color:#fff;}}"]),I=n(92207),D=n(83491),M=n(20930),k=n(85786),H=n(33798),z=u.ZP.section.withConfig({displayName:"StyledOrderDetailTemplate__OrderDetailSection",componentId:"sc-14w481-0"})(["padding-top:16px;&.payment-section{border-top:1px solid #efefef;}.total-amount{color:#000;}"]),U=u.ZP.h3.withConfig({displayName:"StyledOrderDetailTemplate__OrderDetailSectionTitle",componentId:"sc-14w481-1"})(["display:flex;justify-content:space-between;align-items:center;margin:0;color:#5a46fa;font-size:14px;line-height:20px;font-weight:normal;"]),Y=u.ZP.div.withConfig({displayName:"StyledOrderDetailTemplate__OrderDetailInfo",componentId:"sc-14w481-2"})(["padding:10px 0;"]),L=u.ZP.div.withConfig({displayName:"StyledOrderDetailTemplate__OrderDetailInfoItem",componentId:"sc-14w481-3"})(["display:flex;justify-content:space-between;align-items:center;padding:6px 0;font-size:14px;line-height:20px;color:#969696;span{word-break:break-all;text-align:right;width:75%;&.label{color:#000;width:25%;text-align:left;}}"]);function B(e){return e<=0||isNaN(Number(e))?"0":e.toLocaleString()}!function(e){e.PREPAYMENT="PYMT000001",e.PAYMENT="PYMT000002",e.REFUND="PYMT000003"}(O||(O={})),function(e){e.PYMT000001="\uc120\uacb0\uc81c",e.PYMT000002="\uacb0\uc81c",e.PYMT000003="\ud658\ubd88"}(T||(T={})),function(e){e.CARD="PMTH000001",e.COUPON="PMTH000002",e.CASH="PMTH000003",e.PRE_T_MONEY="PMTH000004",e.T_MONEY="PMTH000005"}(w||(w={})),function(e){e.PMTH000001="\uce74\ub4dc",e.PMTH000002="\ucfe0\ud3f0",e.PMTH000003="\ud604\uae08",e.PMTH000004="\uc120\ubd88 \ud2f0\uba38\ub2c8 \uce74\ub4dc",e.PMTH000005="\ud6c4\ubd88 \ud2f0\uba38\ub2c8 \uce74\ub4dc"}(S||(S={})),function(e){e.SUCCESS="SUCCESS",e.ERROR="PG_ERROR"}(E||(E={})),function(e){e[e.PERSONAL=1]="PERSONAL",e[e.CORPORATION=2]="CORPORATION"}(_||(_={})),function(e){e.PERSONAL="\uac1c\uc778",e.CORPORATION="\ubc95\uc778"}(C||(C={}));var F=function(e){var t=e.status,n=e.payments,r=e.isPromotion;if((0,k.xb)(n))return(0,x.jsx)(G,{isPromotion:r});var a=function(e,t){if((null===t||void 0===t?void 0:t.length)<1)return{payment:null,canceledPayment:null};var n=e===Z.PP.PAY_CANCEL,r=t.length-1;return n?{payment:t[r-1],canceledPayment:t[r]}:{payment:t[r],canceledPayment:null}}(t,n),i=a.payment,o=a.canceledPayment;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(G,{isPromotion:r,status:t,amount:null===i||void 0===i?void 0:i.amount,paymentMethod:W(i),paymentResultMsg:null===i||void 0===i?void 0:i.resultMsg,paidAt:null===i||void 0===i?void 0:i.paidAt}),o&&(0,x.jsx)($,{className:"payment-section",$_css:"padding-top: 0",children:(0,x.jsxs)(Y,{children:[(0,x.jsxs)(L,{children:[(0,x.jsx)("span",{className:"label",children:"\ucde8\uc18c\uae08\uc561"}),(0,x.jsxs)("span",{className:"total-amount",children:["-".concat(B(o.amount)),"\uc6d0"]})]}),(0,x.jsxs)(L,{children:[(0,x.jsx)("span",{className:"label",children:"\ucde8\uc18c\uc77c\uc2dc"}),(0,x.jsx)("span",{children:(0,I.p6)(o.paidAt,{format:D.t.DATE_SHORT_TIME})})]})]})})]})},G=function(e){var t=e.status,n=e.amount,r=e.paymentMethod,a=e.paymentResultMsg,i=e.paidAt,o=e.isPromotion,s=t===Z.PP.UNPAID;return(0,x.jsxs)(z,{className:"payment-section",children:[(0,x.jsx)(U,{children:(0,x.jsx)("span",{children:"\uacb0\uc81c\uc815\ubcf4"})}),(0,x.jsxs)(Y,{children:[(0,x.jsxs)(L,{children:[(0,x.jsxs)("span",{className:"label",children:[s?"\ubbf8\ub0a9":"\uacb0\uc81c","\uae08\uc561"]}),(0,x.jsx)("span",{children:function(){if(o)return"\uccab \ud0d1\uc2b9 \ubb34\ub8cc";if(!n)return"-";var e="".concat(B(n),"\uc6d0");return s?"- ".concat(e):e}()})]}),(0,x.jsxs)(L,{children:[(0,x.jsx)("span",{className:"label",children:"\uacb0\uc81c\ubc29\ubc95"}),(0,x.jsx)("span",{children:(0,k.T5)(r)})]}),s&&(0,x.jsxs)(L,{children:[(0,x.jsx)("span",{className:"label",children:"\uacb0\uc81c\uc2e4\ud328\uc0ac\uc720"}),(0,x.jsxs)("span",{children:["\uc2b9\uc778\uac70\uc808 / ",(0,k.T5)(a)]})]}),(0,x.jsxs)(L,{children:[(0,x.jsx)("span",{className:"label",children:"\uacb0\uc81c\uc77c\uc2dc"}),(0,x.jsx)("span",{children:(0,k.T5)((0,I.p6)(i,{format:D.t.DATE_SHORT_TIME}))})]})]})]})};function W(e){if(e){if(e.methodTypeName===w.CARD){var t="";return e.resultCode!==E.SUCCESS&&(t+="\uc2b9\uc778 \uac70\uc808 / "),t+=function(e){var t="";e.cardName&&(t+=e.cardName);e.maskedCardNumber&&(t+="**".concat(e.maskedCardNumber.substr(2,2)));e.issuerType&&(t+="(".concat(C[_[e.issuerType]],")"));return t}(e)}return S[e.methodTypeName]}}var X,$=(0,u.ZP)(z).withConfig({displayName:"PaymentInfoSectionTemplate___StyledOrderDetailSection",componentId:"sc-12astmx-0"})(["",""],(function(e){return e.$_css})),q=n(4942),K=n(30330),J=n(15671),Q=n(43144),V=n(97326),ee=n(79340),te=n(82963),ne=n(11752),re=n(61120),ae=n(53229),ie=n(27845),oe=n(94122),se=n(16891),le=n(34054);function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,re.Z)(e);if(t){var a=(0,re.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,te.Z)(this,n)}}var pe=new(X=function(e){(0,ee.Z)(n,e);var t=ce(n);function n(){var e,r;return(0,J.Z)(this,n),r=t.call(this),(0,ne.Z)((e=(0,V.Z)(r),(0,re.Z)(n.prototype)),"setBasePath",e).call(e,oe.P.MEMBERS),r}return(0,Q.Z)(n,[{key:"getMyInfo",value:function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,le.Z)({method:"get",path:"".concat(this.basePath)},t);case 2:return n=e.sent,e.abrupt("return",(0,ie.rO)(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ie.ZP),(0,ae.Z)(X.prototype,"getMyInfo",[se.Rf],Object.getOwnPropertyDescriptor(X.prototype,"getMyInfo"),X.prototype),X),ue=n(97023);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,q.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){var t=e.onClose,n=e.isShow,a=e.orderId,s=(0,i.useState)(null),c=s[0],p=s[1],u=(0,i.useState)(null),m=u[0],h=u[1],b=(0,i.useState)(null),g=b[0],v=b[1],P=(0,i.useState)(!1),j=P[0],N=P[1];function O(){v(function(e){if(!e)return null;var t=e.split("@");return t[0].substring(0,2)+t[0].substring(2).replace(/./g,"*")+"@"+t[1]}(c.tapMemberInfoDto.email))}function T(){return(T=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(N(!0),xe(m)){e.next=8;break}return e.next=6,(0,ue.l)("\uc62c\ubc14\ub978 \uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4.",{type:ue.U.ERROR});case 6:return N(!1),e.abrupt("return");case 8:return e.next=10,f.Z.sendEmail(a,{email:m});case 10:if(t=e.sent,!(0,d.Zm)(t)){e.next=16;break}return e.next=14,(0,ue.l)("\uc774\uba54\uc77c \uc804\uc1a1 \uc2e4\ud328",{type:ue.U.ERROR});case 14:return N(!1),e.abrupt("return");case 16:return w(),e.next=19,(0,ue.l)("".concat(g||m,"(\uc73c)\ub85c \uc804\uc1a1\ud558\uc600\uc2b5\ub2c8\ub2e4."));case 19:N(!1);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){h(""),t()}(0,i.useEffect)((function(){(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,pe.getMyInfo();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),(0,i.useEffect)((function(){var e;null!==c&&void 0!==c&&null!==(e=c.tapMemberInfoDto)&&void 0!==e&&e.email&&n&&(O(),h(c.tapMemberInfoDto.email))}),[c,n]);var S={onFocus:function(){(0,k.xb)(g)||(v(null),h(""))},onBlur:function(){(0,k.xb)(m)&&O()},onChange:function(e){(0,k.xb)(g)||v(null),h(e.target.value)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(K.Z,{onClick:w,isShow:n}),(0,x.jsxs)(he,{isShow:n,children:[(0,x.jsx)("strong",{className:"email-popup-title",children:"\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694."}),(0,x.jsx)("input",fe({type:"text",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",className:"email-popup-input",value:g||m||""},S)),(0,x.jsxs)("div",{className:"email-popup-button-wrap",children:[(0,x.jsx)(y,{className:"email-popup-button cancel",type:r.DEFAULT,onClick:w,children:"\ucde8\uc18c"}),(0,x.jsx)(y,{disabled:j,className:"email-popup-button confirm",type:r.PRIMARY,onClick:function(){return T.apply(this,arguments)},children:"\ud655\uc778"})]})]})]})};function xe(e){return!!e&&e.match(/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/)}var he=u.ZP.div.withConfig({displayName:"EmailPopUp__PopUpWrap",componentId:"sc-17gt2m9-0"})(["display:",";position:fixed;top:50%;transform:translateY(-50%);background-color:#fff;width:calc(100% - 44px);margin:0 22px;padding:24px;border-radius:4px;.email-popup-title{display:block;padding-bottom:36px;font-size:18px;font-weight:bold;color:#161616;text-align:center;}.email-popup-input{width:100%;font-size:18px;border:none;border-bottom:1px solid rgba(0,0,0,0.35);outline:none;}.email-popup-button-wrap{display:flex;padding-top:36px;}.email-popup-button{padding:0;font-size:16px;height:48px;line-height:48px;width:100%;margin-left:16px;font-weight:bold;border-radius:4px;border:none;&:first-child{margin-left:0;}&.cancel{color:#161616;background-color:#efefef;}}"],(function(e){return e.isShow?"block":"none"})),be=function(e){var t=(0,c.useRouter)().query.orderId,n=(0,i.useState)({}),r=n[0],a=n[1],s=(0,i.useState)(!1),u=s[0],b=s[1];return(0,i.useEffect)((function(){v.N.setToolbar("\uc790\uc138\ud788 \ubcf4\uae30",!1)}),[]),(0,i.useEffect)((function(){(0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get(t);case 2:if(n=e.sent,!(0,d.Zm)(n)){e.next=5;break}return e.abrupt("return");case 5:a(n);case 6:case"end":return e.stop()}}),e)})))()}),[]),(0,k.xb)(r)?(0,x.jsx)(H.Z,{}):(0,x.jsxs)(p.Z,{title:"\uc774\uc6a9 \ub0b4\uc5ed",hasHeader:!1,children:[(0,x.jsxs)(p.S,{children:[(0,x.jsxs)(ye,{children:[(0,x.jsxs)(ve,{children:[(0,x.jsx)(je,{children:(0,M.p)(r)}),(0,x.jsx)("span",{children:(0,I.p6)(r.boardingAt||r.dispatchedAt,{format:D.t.DEFAULT,dayFormat:"day",nullText:" "})})]}),(0,x.jsxs)(Pe,{children:[(0,x.jsxs)(z,{children:[(0,x.jsx)(U,{children:(0,x.jsx)("span",{children:"\uc6b4\ud589\uc815\ubcf4"})}),(0,x.jsx)(m.Z,{className:"order-detail",carTypeCode:r.carTypeCode,boardingName:r.boardingName,arrivalName:r.arrivalName,boardingStationName:r.boardingStationName,arrivalStationName:r.arrivalStationName}),(0,x.jsxs)(Y,{children:[(0,x.jsxs)(L,{children:[(0,x.jsx)("span",{className:"label",children:"\uc6b4\ud589\uc2dc\uac04"}),(0,x.jsx)("span",{children:ge({boardingAt:r.boardingAt,arrivalAt:r.arrivalAt})})]}),(0,x.jsxs)(L,{children:[(0,x.jsx)("span",{className:"label",children:"\ucc28\ub7c9\uc815\ubcf4"}),(0,x.jsxs)("span",{children:[r.vehicleRegisteredNumber," \u3163 ",r.vehicleFamilyName]})]}),(0,x.jsxs)(L,{children:[(0,x.jsx)("span",{className:"label",children:"\uc6b4\uc601\uc0ac"}),(0,x.jsx)("span",{children:r.vehicleCompanyName})]})]})]}),(0,x.jsx)(F,{isPromotion:r.isPromotion,status:r.displayStatus,payments:r.payments}),(0,x.jsx)(h,{})]})]}),(0,x.jsx)(R,{orderId:parseInt(t,10)||0,isEvaluated:r.isEvaluated||!1,arrivalAt:r.arrivalAt||null,displayStatus:r.displayStatus,onClickEmail:function(){return b(!0)}})]}),(0,x.jsx)(me,{orderId:parseInt(t,10)||0,onClose:function(){return b(!1)},isShow:u})]})};function ge(e){var t=e.boardingAt,n=e.arrivalAt;return t&&n?"".concat((0,I.p6)(t,{format:D.t.SHORT_TIME,nullText:" "})," - ").concat((0,I.p6)(n,{format:D.t.SHORT_TIME,nullText:" "})):"-"}var ye=u.ZP.div.withConfig({displayName:"OrderDetailPage__OrderDetailWrap",componentId:"sc-fe1pc7-0"})(["margin-bottom:82px;border-top:10px solid #f4f6fa;"]),ve=u.ZP.h2.withConfig({displayName:"OrderDetailPage__OrderDetailHeader",componentId:"sc-fe1pc7-1"})(["display:flex;justify-content:space-between;align-items:center;margin:0;padding:12px 16px;border-bottom:2px solid #efefef;font-size:16px;font-weight:normal;line-height:24px;color:#000;"]),Pe=u.ZP.div.withConfig({displayName:"OrderDetailPage__OrderDetailContainer",componentId:"sc-fe1pc7-2"})(["padding:0 16px;"]),je=u.ZP.span.withConfig({displayName:"OrderDetailPage__OrderStatus",componentId:"sc-fe1pc7-3"})(["display:inline-block;padding:5px 11px;border:1px solid #c2c2c2;border-radius:20px;font-size:10px;line-height:14px;color:#969696;"]),Ne=function(){return(0,x.jsx)(be,{})}},26437:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rider/auth/orders/[orderId]",function(){return n(8895)}])}},function(e){e.O(0,[163,636,794,845,502,774,888,179],(function(){return t=26437,e(e.s=t);var t}));var t=e.O();_N_E=t}]);